<!DOCTYPE html>
<html lang="en">

<head>
	<!-- Meta, title, CSS, favicons, etc. -->
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="">
	<meta name="author" content="">
	<meta property="og:title" content="Ripple">
	<meta property="og:url" content="www.getkefi.com">

	<!--Google Maps and Google Places APIs-->

	<!--<script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=true&key=AIzaSyAWf1WnMo_4s35yeXZ-kZyF-QZ7m5MwqP0"></script>
	<script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?libraries=places&sensor=true"></script>-->

	<!-- bootstrap -->
	<link type="text/css" href="main.css" rel="stylesheet"/>
	<link rel="shortcut icon" href="http://www.getripple.io/rippleHeaderLogo.png">
	<script src="//code.jquery.com/jquery-1.11.2.min.js"></script>
	<script src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
	<script src="//www.parsecdn.com/js/parse-1.4.2.min.js"></script>
	<script src="http://timeago.yarp.com/jquery.timeago.js"></script>

	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">

	<!-- Optional theme -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css">

	<!-- Latest compiled and minified JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>

	<!--load google fonts!-->
	<link href='http://fonts.googleapis.com/css?family=Roboto:100' rel='stylesheet' type='text/css'>

	<script src="https://maps.googleapis.com/maps/api/js?v=3.exp&signed_in=true"></script>


	<title>Ripple</title>

	<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	ga('create', 'UA-49651565-1', 'getkefi.com');
	ga('send', 'pageview');

	</script>
</head>

<body>
	<!--header-->
	<div class="topHeader" style="background-color:#0867ab; padding-bottom:5px;">
		<div class = "picText" style="background-color:#0867ab;">
			<div style="width:45%;float:left;">
				<a href="http://getRipple.io"><img class="rippleImg" id="rippleImg" src="rippleBlueBcknd.png" style="float:left;" width="100px;"></a>
				<p class="headerText" style="color:#fff;"></p>	
			</div>

			<div class="socialMedia">
				<a href="https://twitter.com/RippleMeThis"><img class="socialMediaBtn" href src="http://i.imgur.com/h7oyTeL.png?1" ></a>

				<a href="https://www.facebook.com/exploreRipple"><img class="socialMediaBtn" href src="http://i.imgur.com/CtfEYps.png?1" ></a>

				<a href="http://instagram.com/ripple.app"><img class="socialMediaBtn" href src="http://i.imgur.com/w90mpS8.png?1" ></a>
			</div>
		</div>
	</div>

	<p align="center" class="headerTxt" style="font-family:'Roboto',sans-serif; margin:50px 0px 80px 0px;">Leaderboard</p>

	<div id="leaderboard">
		<div id="levels">
		</div>
			
		<div id="users">
		</div>
	</div>



	<!-- foooter -->
	<footer>
		<nav>
			<ul>
				<li>
					<a href="http://getripple.io">home</a>
				</li>
				<li>
					<a href="https://getRipple.io/howitworks.html">how it works</a>
				</li>
				<li>
					<a href="https://medium.com/@RippleMeThis">blog</a>
				</li>
				<li>
					<a href="ripple_terms.html">terms</a>
				</li>
				<li>
					<a href="ripple_privacy.html">privacy</a>
				</li>
			</ul>
		</nav>
	</footer>


<script>

$(document).ready(function() {

	Parse.initialize("NYPXQtFR0BBY0TEbfcpgn61l2IGHJXQkrY1bu8PM", "5CS8buPIcMHVrSIeJuzPNkrVpjQsy9l6D2bvw5Aw");

	setHeaderSize();

	Parse.Cloud.run('getLeaderboard', {}, {
		success: function(levelsArray) {
			
			for (var i = 0; i < levelsArray.length; i++)
			{
				if (levelsArray[i]["userArray"].length != 0)
				{
					var element = "<div class='level' style='background-color:#fff; border-radius:25px;'><div class='inner'><p class='levelText' align='center'>"+levelsArray[i]["name"]+"</p><p align='center' class='explanation'>minimum score of " + levelsArray[i]["minScore"] + " and a reach of " + levelsArray[i]["reach"] + " people</p><table class='table active table-striped'><thead><tr style='font-weight:bold;'><th>User</th><th>Score</th><th>Largest Ripple</th></tr></thead>";


					for (var j = 0; j < levelsArray[i]["userArray"].length; j++)
					{
						element = element + "<tr><td>" + levelsArray[i]["userArray"][j]["username"] + "</td><td>" + levelsArray[i]["userArray"][j]["score"]
						+"</td><td>" + levelsArray[i]["userArray"][j]["highestPropagated"] + "</td></tr>";
					} 
					element = element + "</table></div></<div>";
					$("#levels").append(element);

					setHeaderSize();
				}
			}
			
		},
		error: function(error) {

		}
	})	;

		
});

$( window ).resize(function() {
	setHeaderSize();
});

function setHeaderSize()
{
			// set logo height and width
			$('.formIframe').css({"width":$(window).width(),"height":'1500px'});

			$("footer nav ul li ").css("font-family", "'Roboto', sans-serif");
			$("footer nav ul li ").css("margin-left", "10px");

			$('.ripple').css({"background":"#eee"});
			$('body').css({"background":"#eee"});
			$('.level').css({"background-color":"fff","border-radius":"25px"});

			if ($(window).width() < 700) 
			{
				// header stuff
				$('.picText').css( "height", 20);
				$('.headerText').css("padding-top","10px");
				$(".rippleImg").css({"width":"80px", "margin":"5px"});

				// social media
				$('.socialMedia').css({"float":"right","margin-right":"22px", "margin-top":"8px"});
				$('.socialMediaBtn').css({"width": "15px"});
				$('.table').css({"font-size":"13px"});

				//$("tr").css({"font-family":"'Roboto', sans-serif"});
				$('.explanation').css({"margin-top":"18px", "margin-bottom":"50px","font-size":"14px", "font-family":"'Roboto', sans-serif"});
				$('.levelText').css({"font-size":"40px","font-family":"'Roboto', sans-serif"});
				$('.level').css({"margin":"0 auto","padding":"10px", "margin":"20px"});
				$('.inner').css({'width':'95%', 'margin':'0 auto'});

				$('.inner').css({"width":"90%"});
				$('.headerTxt').css({"font-size":"40px"});


				$("footer a").css("font-size", "10px");	
			}

			else
			{

				// header stuff
				$('.picText').css( "height", 120);
				$('.headerText').css("padding-top","25px");
				$(".rippleImg").css({"width":"250px", "margin":"12px"});

				// social media
				$('.socialMedia').css({"float":"right","margin-right":"22px", "margin-top":"40px"});
				$('.socialMediaBtn').css({"width": "40px"});

				//$("tr").css({"font-family":"'Roboto', sans-serif"});
				$('.table').css({"font-size":"22px"});
				$('.explanation').css({"margin-top":"18px", "margin-bottom":"80px","font-size":"18px", "font-family":"'Roboto', sans-serif"});
				$('.levelText').css({"font-size":"50px","font-family":"'Roboto', sans-serif"});
				$('.level').css({"margin":"0 auto","padding":"50px", "margin":"50px"});
				$('.inner').css({'width':'90%', 'margin':'0 auto'});

				$('.inner').css({"width":"60%"});
				$('.headerTxt').css({"font-size":"70px"});



				$("footer a").css("font-size", "15px");				
			}
		}
		</script>
	</body>
	</html>